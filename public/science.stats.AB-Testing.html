<!DOCTYPE html>
<html lang="en"><head><title>A/B Testing or Experimental Design</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="ü™¥ Quartz 4.0"/><meta property="og:title" content="A/B Testing or Experimental Design"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="A/B Testing or Experimental Design"/><meta name="twitter:description" content="From DataInterviewPro Controlled experiments (e.g. clinical trials). Usually when we run experiments, we want to see difference in certain seed.Product Management.Product Metrics.User Based Metrics (Digital Products), e.g."/><meta property="og:description" content="From DataInterviewPro Controlled experiments (e.g. clinical trials). Usually when we run experiments, we want to see difference in certain seed.Product Management.Product Metrics.User Based Metrics (Digital Products), e.g."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="From DataInterviewPro Controlled experiments (e.g. clinical trials). Usually when we run experiments, we want to see difference in certain seed.Product Management.Product Metrics.User Based Metrics (Digital Products), e.g."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https://quartz.jzhao.xyz/science.stats.AB-Testing"/><meta property="twitter:url" content="https://quartz.jzhao.xyz/science.stats.AB-Testing"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="From DataInterviewPro Controlled experiments (e.g. clinical trials). Usually when we run experiments, we want to see difference in certain seed.Product Management.Product Metrics.User Based Metrics (Digital Products), e.g."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="science.stats.AB-Testing"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href=".">ü™¥ Quartz 4.0</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;Engineering&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Engineering/Interviewing&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Engineering/Interviewing/Ninja&quot;,&quot;collapsed&quot;:true}]" aria-controls="explorer-content" aria-expanded="false"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Engineering"><button class="folder-button"><span class="folder-title">Engineering</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Engineering"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Engineering/Interviewing"><button class="folder-button"><span class="folder-title">Interviewing</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Engineering/Interviewing"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Engineering/Interviewing/Ninja"><button class="folder-button"><span class="folder-title">Ninja</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Engineering/Interviewing/Ninja"><li><a href="./Engineering/Interviewing/Ninja/List_3_Int_Add_to_Zero" data-for="Engineering/Interviewing/Ninja/List_3_Int_Add_to_Zero">List_3_Int_Add_to_Zero</a></li></ul></div></li><li><a href="./Engineering/Interviewing/WritingGoodFeedback" data-for="Engineering/Interviewing/WritingGoodFeedback">WritingGoodFeedback</a></li></ul></div></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li><li><a href="./science.stats.AB-Testing" data-for="science.stats.AB-Testing">A/B Testing or Experimental Design</a></li><li><a href="./about" data-for="about">About This Site</a></li><li><a href="./science.stats.Deep-Neural-Networks.Attention-Mechanisms" data-for="science.stats.Deep-Neural-Networks.Attention-Mechanisms">Bahnadau Attention mechanism</a></li><li><a href="./science.stats.Machine-Learning.Industry-Applications.ChatBots" data-for="science.stats.Machine-Learning.Industry-Applications.ChatBots">ChatGPT</a></li><li><a href="./science.stats.Machine-Learning.Industry-Applications.ChatBots.Large-Language-Models" data-for="science.stats.Machine-Learning.Industry-Applications.ChatBots.Large-Language-Models">chatGPT wolfram article</a></li><li><a href="./science.stats.Machine-Learning.Cold-Start-Problem" data-for="science.stats.Machine-Learning.Cold-Start-Problem">Cold Start Problem</a></li><li><a href="./science.stats.Confidence-Intervals" data-for="science.stats.Confidence-Intervals">Confidence Intervals</a></li><li><a href="./science.stats.Machine-Learning" data-for="science.stats.Machine-Learning">Curve Fitting</a></li><li><a href="./science.stats.Deep-Neural-Networks.Embeddings" data-for="science.stats.Deep-Neural-Networks.Embeddings">Embeddings</a></li><li><a href="./science.stats.Estimators" data-for="science.stats.Estimators">Estimators</a></li><li><a href="./science.stats.Machine-Learning.Find-and-Answer-similar-questions" data-for="science.stats.Machine-Learning.Find-and-Answer-similar-questions">Find and Answer similar questions</a></li><li><a href="./science.stats.Deep-Neural-Networks" data-for="science.stats.Deep-Neural-Networks">Hierarchical Modelling</a></li><li><a href="./science.stats.Machine-Learning.hirarchical-topic-classifier" data-for="science.stats.Machine-Learning.hirarchical-topic-classifier">hirarchical topic classifier</a></li><li><a href="./science.stats.Deep-Neural-Networks.Vision-Models" data-for="science.stats.Deep-Neural-Networks.Vision-Models">Image Classification</a></li><li><a href="./science.stats.Deep-Neural-Networks.Vision-Models.Image-Diffusion-Models" data-for="science.stats.Deep-Neural-Networks.Vision-Models.Image-Diffusion-Models">Image Diffusion Model</a></li><li><a href="./science.stats.Machine-Learning.Industry-Applications" data-for="science.stats.Machine-Learning.Industry-Applications">Industry Applications</a></li><li><a href="./science.stats.Machine-Learning.Interpretability" data-for="science.stats.Machine-Learning.Interpretability">Interpretability</a></li><li><a href="./science.stats.Machine-Learning.Kernel-Regression-Methods" data-for="science.stats.Machine-Learning.Kernel-Regression-Methods">Kernel Regression Methods</a></li><li><a href="./science.stats.Deep-Neural-Networks.Language-Models" data-for="science.stats.Deep-Neural-Networks.Language-Models">Language Modelling</a></li><li><a href="./science.stats.Correlation-and-Covariance" data-for="science.stats.Correlation-and-Covariance">Large Correlation Matrices in R</a></li><li><a href="./science.stats.Machine-Learning.Interpretability.Libraries" data-for="science.stats.Machine-Learning.Interpretability.Libraries">Libraries</a></li><li><a href="./science.stats.Machine-Learning.Industry-Applications.ChatBots.Large-Language-Models.LMQL" data-for="science.stats.Machine-Learning.Industry-Applications.ChatBots.Large-Language-Models.LMQL">LMQL</a></li><li><a href="./science.stats.Machine-Learning.Industry-Applications.ChatBots.Large-Language-Models.LangChain" data-for="science.stats.Machine-Learning.Industry-Applications.ChatBots.Large-Language-Models.LangChain">Notes from the documentation</a></li><li><a href="./science.stats.Machine-Learning.private.object-recognition-in-video" data-for="science.stats.Machine-Learning.private.object-recognition-in-video">object recognition in video</a></li><li><a href="./science.stats.Machine-Learning.Scientific-Machine-Learning" data-for="science.stats.Machine-Learning.Scientific-Machine-Learning">Scientific Machine Learning</a></li><li><a href="./science.stats" data-for="science.stats">Stats</a></li><li><a href="./science.stats.Machine-Learning.Industry-Applications.ChatBots.Large-Language-Models.Token-Masking" data-for="science.stats.Machine-Learning.Industry-Applications.ChatBots.Large-Language-Models.Token-Masking">Token Masking</a></li><li><a href="./science.stats.Machine-Learning.Vision-System-for-Car" data-for="science.stats.Machine-Learning.Vision-System-for-Car">Vision System for Car</a></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> ‚ùØ </p></div><div class="breadcrumb-element"><a href>A/B Testing or Experimental Design</a></div></nav><h1 class="article-title">A/B Testing or Experimental Design</h1><p show-comma="true" class="content-meta"><time datetime="2022-01-16T19:11:52.726Z">Jan 16, 2022</time><span>3 min read</span></p></div></div><article class="popover-hint"><p>From <a href="https://www.youtube.com/watch?v=X8u6kr4fxXc&amp;ab_channel=DataInterviewPro" class="external">DataInterviewPro<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<p>Controlled experiments (e.g. clinical trials).</p>
<p>Usually when we run experiments, we want to see difference in certain <a href="./seed.Product-Management.Product-Metrics.User-Based-Metrics-(Digital-Products)" class="internal alias" data-slug="seed.Product-Management.Product-Metrics.User-Based-Metrics-(Digital-Products)">seed.Product Management.Product Metrics.User Based Metrics (Digital Products)</a>, e.g. </p><blockquote class="transclude" data-url="seed.Product-Management.Product-Metrics.User-Based-Metrics-(Digital-Products)" data-block="#^active-users" data-embed-alias="^active-users"><a href="./seed.Product-Management.Product-Metrics.User-Based-Metrics-(Digital-Products)#active-users" class="transclude-inner internal alias" data-slug="seed.Product-Management.Product-Metrics.User-Based-Metrics-(Digital-Products)">Transclude of seed.Product-Management.Product-Metrics.User-Based-Metrics-(Digital-Products)#^active-users</a></blockquote>.<p></p>
<p></p><blockquote class="transclude" data-url="science.stats.tests" data-block="#^ttest" data-embed-alias="^ttest"><a href="./science.stats.tests#ttest" class="transclude-inner internal alias" data-slug="science.stats.tests">Transclude of science.stats.tests#^ttest</a></blockquote> can be used in the simplest case, or some bayesian setup.<p></p>
<p>Type II error (or power). Power = 1 - Type II error.
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">am</span><span class="mord mathnormal" style="margin-right:0.01968em;">pl</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">i</span><span class="mord mathnormal">ze</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">‚âà</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3629em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">œÑ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">œÉ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> where <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.1132em;">œÑ</span></span></span></span> is the effect size (difference in the metric chosen between the control and treatment group).</p>
<p>As we don‚Äôt know <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.1132em;">œÑ</span></span></span></span>, we can choose the <strong>minimal detectable effect size</strong>, equal to the minimal business-relevant effect size, i.e. the min effect that would justify a switch.</p>
<p>Normally <strong>decided by stakeholders</strong>.</p>
<h1 id="multiple-testing-problems">Multiple Testing Problems<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#multiple-testing-problems" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>Bayesian setup, Bonferroni correction, or something else.</p>
<p>Bonferroni correction:
divide significance level by the number of tests.</p>
<p>But sometimes too conservative, i.e. lower recall</p>
<p>Or can control <strong>False Discovery Rate</strong>.</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4133em;vertical-align:-0.4811em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight">ec</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">os</span><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mord mathnormal mtight">os</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">es</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span></span>.
This can be calculated, then choose a threshold for FDR, etc.</p>
<p>In a decision-making setup, can optimize the above‚Ä¶</p>
<h1 id="novelty-and-primacy-effect">Novelty and Primacy Effect<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#novelty-and-primacy-effect" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>User behavior can either be resistent to change, or welcoming it, and we don‚Äôt know apriori.
If the effect is initially large up/down and then gets closer to the baseline, this is the novelty/primacy effect.</p>
<h2 id="run-longer">Run Longer<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#run-longer" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h2 id="use-only-new-users-or-equivalent-type-matching">Use Only New Users (or equivalent type matching)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#use-only-new-users-or-equivalent-type-matching" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Can fix by running experiments on new users, or having the baseline be the behavior or new users when they were new, etc. In the latter case should maybe control for seasonality or other temporal effects as appropriate.</p>
<h1 id="interference-between-variants">Interference between variants<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#interference-between-variants" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>Happens most often when control and treatment groups interact somehow.
If they interact like a ‚Äòstandard‚Äô network effect (not competing for resources), we expect the actual effect to be larger than during the test.
<strong>Example</strong> FB posts promote more posts, so if small increase in population, will get larger.
<a href="./science.math.Game-Theory.Agent-Based-Models" class="internal alias" data-slug="science.math.Game-Theory.Agent-Based-Models">science.math.Game Theory.Agent Based Models</a>
</p><blockquote class="transclude" data-url="science.math.Game-Theory.Agent-Based-Models" data-block="#^fbepidemology" data-embed-alias="^fbepidemology"><a href="./science.math.Game-Theory.Agent-Based-Models#fbepidemology" class="transclude-inner internal alias" data-slug="science.math.Game-Theory.Agent-Based-Models">Transclude of science.math.Game-Theory.Agent-Based-Models#^fbepidemology</a></blockquote><p></p>
<p>If 2-sided market, control and treatment groups compete for same resource. If we give better ‚Äòweapon‚Äô for treatment, after launch it would disappear, as everyone has better ‚Äúweapon‚Äù.
<strong>Example</strong> Better matching algo for Uber drivers. (or in the extreme case, prioritize some drivers over others- obviously the treatment group is more priviliged).</p>
<h2 id="isolation-of-effect">Isolation of effect<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#isolation-of-effect" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Test between ‚Äúconnected components‚Äù, e.g. New York vs LA (approximately, of course). Also can do temporally etc.
Simplest is geographical splits.</p>
<p>In social network:
test on differennt ‚Äòclusters‚Äô of people.</p>
<p><strong>Ego-network randomization</strong>. A more scalable variation of the above.</p>
<h1 id="ab-testing-for-sciencestatsregressionranking">AB testing for <a href="./science.stats.Regression.Ranking" class="internal" data-slug="science.stats.Regression.Ranking">science.stats.Regression.Ranking</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#ab-testing-for-sciencestatsregressionranking" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p><a href="./engineering.system_design.ML-System-Design.Recommender-Systems" class="internal alias" data-slug="engineering.system_design.ML-System-Design.Recommender-Systems">engineering.system_design.ML System Design.Recommender Systems</a></p>
<p>Please also see <a href="./science.stats.Regression.Loss-Functions#ranking-start" class="internal alias" data-slug="science.stats.Regression.Loss-Functions">^ranking-start</a>.</p>
<p>Comparing two rankings via clicks.
Say 2 algorithms give 2 rankings, Ranking A, ranking B.
Merge-sort-remove-duplicates interleaving the rankings.
Assign first element randomly.
Count clicks from A and B. Better one will on average get more rankings.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class aria-controls="toc-content" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content" class><ul class="overflow"><li class="depth-0"><a href="#multiple-testing-problems" data-for="multiple-testing-problems">Multiple Testing Problems</a></li><li class="depth-0"><a href="#novelty-and-primacy-effect" data-for="novelty-and-primacy-effect">Novelty and Primacy Effect</a></li><li class="depth-1"><a href="#run-longer" data-for="run-longer">Run Longer</a></li><li class="depth-1"><a href="#use-only-new-users-or-equivalent-type-matching" data-for="use-only-new-users-or-equivalent-type-matching">Use Only New Users (or equivalent type matching)</a></li><li class="depth-0"><a href="#interference-between-variants" data-for="interference-between-variants">Interference between variants</a></li><li class="depth-1"><a href="#isolation-of-effect" data-for="isolation-of-effect">Isolation of effect</a></li><li class="depth-0"><a href="#ab-testing-for-sciencestatsregressionranking" data-for="ab-testing-for-sciencestatsregressionranking">AB testing for science.stats.Regression.Ranking</a></li></ul></div></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> ¬© 2025</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="./postscript.js" type="module"></script></html>